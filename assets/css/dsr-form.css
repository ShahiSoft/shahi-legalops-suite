/**
 * DSR Form CSS
 *
 * Styles for the DSR request form shortcode.
 * Responsive, accessible, and theme-agnostic.
 *
 * @package ShahiLegalopsSuite
 * @version 3.0.1
 * @since 3.0.1
 */

/* ==========================================================================
   Container
   ========================================================================== */

.slos-dsr-form-wrapper {
	max-width: 700px;
	margin: 0 auto;
	padding: 20px;
	font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif;
	font-size: 16px;
	line-height: 1.6;
	color: var(--shahi-text-primary, #e5e7eb);
}

.slos-dsr-form-container {
	background: var(--shahi-bg-elevated, #252d50);
	border: 1px solid var(--shahi-border-color, #3a4e5c);
	border-radius: 8px;
	padding: 30px;
	box-shadow: var(--shahi-shadow, 0 2px 8px rgba(0, 0, 0, 0.3));
}

/* Compact mode */
.slos-dsr-form-wrapper.slos-compact .slos-dsr-form-container {
	padding: 20px;
}

/* Dark theme */
.slos-dsr-form-wrapper.slos-theme-dark {
	color: var(--shahi-text-primary, #e5e7eb);
}

.slos-dsr-form-wrapper.slos-theme-dark .slos-dsr-form-container {
	background: var(--shahi-bg-elevated, #252d50);
	border-color: var(--shahi-border-color, #3a4e5c);
	color: var(--shahi-text-primary, #e5e7eb);
}

/* ==========================================================================
   Header
   ========================================================================== */

.slos-dsr-form-header {
	margin-bottom: 30px;
	text-align: center;
}

.slos-dsr-form-header h2 {
	margin: 0 0 10px;
	font-size: 28px;
	font-weight: 600;
	color: var(--shahi-text-primary, #e5e7eb);
}

.slos-theme-dark .slos-dsr-form-header h2 {
	color: var(--shahi-text-primary, #e5e7eb);
}

.slos-dsr-form-description {
	margin: 0;
	font-size: 14px;
	color: var(--shahi-text-secondary, #cbd5e1);
}

.slos-theme-dark .slos-dsr-form-description {
	color: var(--shahi-text-secondary, #cbd5e1);
}

/* ==========================================================================
   Messages
   ========================================================================== */

.slos-dsr-success,
.slos-dsr-error {
	display: flex;
	align-items: flex-start;
	gap: 15px;
	padding: 20px;
	margin-bottom: 30px;
	border-radius: 6px;
}

.slos-dsr-success {
	background: #d4edda;
	border: 1px solid #c3e6cb;
	color: #155724;
}

.slos-dsr-error {
	background: var(--shahi-bg-secondary);
	border: 1px solid #f5c6cb;
	color: #721c24;
}

.slos-dsr-success-icon,
.slos-dsr-error-icon {
	flex-shrink: 0;
	width: 40px;
	height: 40px;
	display: flex;
	align-items: center;
	justify-content: center;
	font-size: 24px;
	font-weight: bold;
	border-radius: 50%;
}

.slos-dsr-success-icon {
	background: #155724;
	color: #fff;
}

.slos-dsr-error-icon {
	background: #721c24;
	color: #fff;
}

.slos-dsr-success-content h3,
.slos-dsr-error-content h3 {
	margin: 0 0 5px;
	font-size: 18px;
	font-weight: 600;
}

.slos-dsr-success-content p,
.slos-dsr-error-content p {
	margin: 5px 0;
	font-size: 14px;
}

.slos-dsr-sla-notice {
	margin-top: 10px;
	padding: 10px;
	background: rgba(0, 0, 0, 0.05);
	border-radius: 4px;
	font-size: 13px;
}

/* ==========================================================================
   Form Fields
   ========================================================================== */

.slos-form-field {
	margin-bottom: 25px;
}

.slos-form-label {
	display: block;
	margin-bottom: 8px;
	font-size: 14px;
	font-weight: 600;
	color: var(--shahi-text-primary, #e5e7eb);
}

.slos-theme-dark .slos-form-label {
	color: var(--shahi-text-primary, #e5e7eb);
}

.slos-required {
	color: #d32f2f;
	margin-left: 3px;
}

.slos-optional {
	font-weight: 400;
	color: #666;
	margin-left: 5px;
}

.slos-theme-dark .slos-optional {
	color: #aaa;
}

/* Input fields */
.slos-form-input,
.slos-form-select,
.slos-form-textarea {
	width: 100%;
	padding: 12px 15px;
	font-size: 16px;
	font-family: inherit;
	line-height: 1.5;
	color: var(--shahi-text-primary, #e5e7eb);
	background: var(--shahi-bg-tertiary, #1f2937);
	border: 1px solid var(--shahi-border-color, #3a4e5c);
	border-radius: 4px;
	transition: border-color 0.2s, box-shadow 0.2s;
}

.slos-theme-dark .slos-form-input,
.slos-theme-dark .slos-form-select,
.slos-theme-dark .slos-form-textarea {
	color: var(--shahi-text-primary, #e5e7eb);
	background: var(--shahi-bg-tertiary, #1f2937);
	border-color: var(--shahi-border-color, #3a4e5c);
}

/* Focus state */
.slos-form-input:focus,
.slos-form-select:focus,
.slos-form-textarea:focus {
	outline: none;
	border-color: var(--shahi-accent-primary, #60a5fa);
	box-shadow: 0 0 0 3px rgba(96, 165, 250, 0.2);
}

/* Invalid state */
.slos-form-input.slos-field-invalid,
.slos-form-select.slos-field-invalid,
.slos-form-textarea.slos-field-invalid {
	border-color: var(--shahi-accent-error, #ef4444);
}

.slos-form-input.slos-field-invalid:focus,
.slos-form-select.slos-field-invalid:focus,
.slos-form-textarea.slos-field-invalid:focus {
	box-shadow: 0 0 0 3px rgba(239, 68, 68, 0.2);
}

/* Select */
.slos-form-select {
	cursor: pointer;
	background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='8'%3E%3Cpath fill='%23333' d='M0 0l6 8 6-8z'/%3E%3C/svg%3E");
	background-repeat: no-repeat;
	background-position: right 15px center;
	background-size: 12px;
	padding-right: 40px;
	-webkit-appearance: none;
	-moz-appearance: none;
	appearance: none;
}

.slos-theme-dark .slos-form-select {
	background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='8'%3E%3Cpath fill='%23e0e0e0' d='M0 0l6 8 6-8z'/%3E%3C/svg%3E");
}

/* Textarea */
.slos-form-textarea {
	resize: vertical;
	min-height: 100px;
}

/* File input */
.slos-form-file {
	display: block;
	width: 100%;
	padding: 10px;
	font-size: 14px;
	color: #333;
	background: var(--shahi-bg-card);
	border: 1px dashed #ccc;
	border-radius: 4px;
	cursor: pointer;
	transition: border-color 0.2s;
}

.slos-form-file:hover {
	border-color: #2196f3;
}

.slos-form-file:focus {
	outline: none;
	border-color: #2196f3;
	border-style: solid;
}

.slos-theme-dark .slos-form-file {
	color: #e0e0e0;
	background: #3a3a3a;
	border-color: #555;
}

/* ==========================================================================
   Field Help & Errors
   ========================================================================== */

.slos-field-help {
	margin: 8px 0 0;
	font-size: 13px;
	color: #666;
}

.slos-theme-dark .slos-field-help {
	color: #aaa;
}

.slos-field-error {
	display: none;
	margin-top: 8px;
	padding: 8px 12px;
	font-size: 13px;
	color: #d32f2f;
	background: var(--shahi-bg-secondary);
	border: 1px solid #ffcdd2;
	border-radius: 4px;
}

.slos-theme-dark .slos-field-error {
	color: #ff6b6b;
	background: #3a1f1f;
	border-color: #5a2f2f;
}

/* Character counter */
.slos-character-count {
	margin-top: 8px;
	font-size: 13px;
	color: #666;
	text-align: right;
}

.slos-theme-dark .slos-character-count {
	color: #aaa;
}

.slos-char-current.slos-char-warning {
	color: #f57c00;
	font-weight: 600;
}

/* ==========================================================================
   Checkbox
   ========================================================================== */

.slos-form-checkbox-field {
	margin-bottom: 20px;
}

.slos-checkbox-label {
	display: flex;
	align-items: flex-start;
	gap: 10px;
	cursor: pointer;
	font-size: 14px;
	line-height: 1.5;
}

.slos-form-checkbox {
	flex-shrink: 0;
	width: 20px;
	height: 20px;
	margin: 2px 0 0;
	cursor: pointer;
	accent-color: #2196f3;
}

.slos-checkbox-text {
	flex: 1;
	color: #333;
}

.slos-theme-dark .slos-checkbox-text {
	color: #e0e0e0;
}

.slos-checkbox-text a {
	color: #2196f3;
	text-decoration: underline;
}

.slos-checkbox-text a:hover {
	color: #1976d2;
}

.slos-theme-dark .slos-checkbox-text a {
	color: #64b5f6;
}

/* ==========================================================================
   SLA Info Box
   ========================================================================== */

.slos-dsr-sla-info {
	display: flex;
	align-items: center;
	gap: 12px;
	padding: 15px;
	margin-bottom: 25px;
	background: #e3f2fd;
	border: 1px solid #bbdefb;
	border-radius: 6px;
	font-size: 14px;
	color: #0d47a1;
}

.slos-theme-dark .slos-dsr-sla-info {
	background: #1a2b3d;
	border-color: #2a3b4d;
	color: #64b5f6;
}

.slos-dsr-sla-icon {
	flex-shrink: 0;
	width: 30px;
	height: 30px;
	display: flex;
	align-items: center;
	justify-content: center;
	font-size: 20px;
	font-weight: bold;
	background: #2196f3;
	color: #fff;
	border-radius: 50%;
}

.slos-dsr-sla-text {
	flex: 1;
	line-height: 1.5;
}

/* ==========================================================================
   Buttons
   ========================================================================== */

.slos-form-actions {
	margin-top: 30px;
	text-align: center;
}

.slos-btn {
	display: inline-flex;
	align-items: center;
	justify-content: center;
	gap: 8px;
	padding: 14px 32px;
	font-size: 16px;
	font-weight: 600;
	font-family: inherit;
	line-height: 1.5;
	text-align: center;
	text-decoration: none;
	border: none;
	border-radius: 6px;
	cursor: pointer;
	transition: background-color 0.2s, transform 0.1s;
	-webkit-appearance: none;
	-moz-appearance: none;
	appearance: none;
}

.slos-btn-primary {
	color: #fff;
	background: #2196f3;
	box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
}

.slos-btn-primary:hover:not(:disabled) {
	background: #1976d2;
	transform: translateY(-1px);
	box-shadow: 0 4px 8px rgba(0, 0, 0, 0.15);
}

.slos-btn-primary:active:not(:disabled) {
	transform: translateY(0);
}

.slos-btn-primary:disabled {
	opacity: 0.6;
	cursor: not-allowed;
}

.slos-btn-primary:focus {
	outline: none;
	box-shadow: 0 0 0 3px rgba(33, 150, 243, 0.3);
}

/* Spinner */
.slos-spinner {
	display: inline-block;
	width: 16px;
	height: 16px;
	border: 2px solid rgba(255, 255, 255, 0.3);
	border-top-color: #fff;
	border-radius: 50%;
	animation: slos-spin 0.8s linear infinite;
}

@keyframes slos-spin {
	to {
		transform: rotate(360deg);
	}
}

/* ==========================================================================
   Security Notice
   ========================================================================== */

.slos-dsr-security-notice {
	margin-top: 20px;
	padding: 15px;
	background: var(--shahi-bg-secondary);
	border: 1px solid #e0e0e0;
	border-radius: 6px;
	text-align: center;
}

.slos-theme-dark .slos-dsr-security-notice {
	background: #2a2a2a;
	border-color: #444;
}

.slos-dsr-security-notice p {
	margin: 0;
	font-size: 13px;
	color: #666;
}

.slos-theme-dark .slos-dsr-security-notice p {
	color: #aaa;
}

/* ==========================================================================
   Responsive
   ========================================================================== */

@media (max-width: 768px) {
	.slos-dsr-form-wrapper {
		padding: 15px;
	}

	.slos-dsr-form-container {
		padding: 20px 15px;
	}

	.slos-dsr-form-header h2 {
		font-size: 24px;
	}

	.slos-form-input,
	.slos-form-select,
	.slos-form-textarea {
		font-size: 16px; /* Prevent zoom on iOS */
	}

	.slos-btn {
		width: 100%;
		padding: 14px 20px;
	}

	.slos-dsr-success,
	.slos-dsr-error {
		flex-direction: column;
		text-align: center;
	}

	.slos-dsr-sla-info {
		flex-direction: column;
		text-align: center;
	}
}

@media (max-width: 480px) {
	.slos-dsr-form-container {
		padding: 15px 10px;
	}

	.slos-dsr-form-header h2 {
		font-size: 20px;
	}

	.slos-form-label {
		font-size: 13px;
	}

	.slos-field-help {
		font-size: 12px;
	}
}

/* ==========================================================================
   Accessibility
   ========================================================================== */

/* Focus visible polyfill */
.slos-form-input:focus-visible,
.slos-form-select:focus-visible,
.slos-form-textarea:focus-visible,
.slos-form-checkbox:focus-visible,
.slos-btn:focus-visible {
	outline: 2px solid #2196f3;
	outline-offset: 2px;
}

/* Screen reader only */
.slos-sr-only {
	position: absolute;
	width: 1px;
	height: 1px;
	padding: 0;
	margin: -1px;
	overflow: hidden;
	clip: rect(0, 0, 0, 0);
	white-space: nowrap;
	border-width: 0;
}

/* High contrast mode support */
@media (prefers-contrast: high) {
	.slos-form-input,
	.slos-form-select,
	.slos-form-textarea {
		border-width: 2px;
	}

	.slos-btn-primary {
		border: 2px solid currentColor;
	}
}

/* Reduced motion */
@media (prefers-reduced-motion: reduce) {
	.slos-form-input,
	.slos-form-select,
	.slos-form-textarea,
	.slos-btn {
		transition: none;
	}

	.slos-spinner {
		animation: none;
	}
}

/* Print styles */
@media print {
	.slos-btn,
	.slos-dsr-security-notice {
		display: none;
	}

	.slos-dsr-form-container {
		border: 1px solid #000;
		box-shadow: none;
	}
}
